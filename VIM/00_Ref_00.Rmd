Package ‘VIM’
February 11, 2019
Version 4.8.0
Date 2019-02-07
Title Visualization and Imputation of Missing Values
Depends R (>= 3.1.0),colorspace,grid,data.table(>= 1.9.4)
Imports car, grDevices, robustbase, stats, sp,
vcd,MASS,nnet,e1071,methods,Rcpp,utils,graphics,laeken, ranger
Suggests dplyr, testthat

#### Description 
 New tools for the visualization of missing and/or imputed values
are introduced, which can be used for exploring the data and the structure of
the missing and/or imputed values. Depending on this structure of the missing
values, the corresponding methods may help to identify the mechanism generating
the missing values and allows to explore the data including missing values.
In addition, the quality of imputation can be visually explored using various
univariate, bivariate, multiple and multivariate plot methods. A graphical user
interface available in the separate package VIMGUI allows an easy handling of
the implemented plot methods.
LazyData TRUE
ByteCompile TRUE
License GPL (>= 2)
URL https://github.com/statistikat/VIM
Repository CRAN
LinkingTo Rcpp
RoxygenNote 6.1.1
NeedsCompilation yes
Author Matthias Templ [aut, cre],
Alexander Kowarik [aut] (<https://orcid.org/0000-0001-8598-4130>),
Andreas Alfons [aut],
Bernd Prantner [aut]
Maintainer Matthias Templ <matthias.templ@gmail.com>
Date/Publication 2019-02-11 12:33:20 UTC
1R topics documented:
2
R topics documented:
VIM-package . . .
aggr . . . . . . . .
alphablend . . . . .
barMiss . . . . . .
bgmap . . . . . . .
chorizonDL . . . .
colormapMiss . . .
colSequence . . . .
countInf . . . . . .
gapMiss . . . . . .
growdotMiss . . .
histMiss . . . . . .
hotdeck . . . . . .
initialise . . . . . .
irmi . . . . . . . .
kNN . . . . . . . .
kola.background . .
mapMiss . . . . . .
marginmatrix . . .
marginplot . . . . .
matchImpute . . .
matrixplot . . . . .
mosaicMiss . . . .
pairsVIM . . . . .
parcoordMiss . . .
pbox . . . . . . . .
prepare . . . . . .
print.summary.aggr
regressionImp . . .
rugNA . . . . . . .
SBS5242 . . . . .
scattJitt . . . . . .
scattmatrixMiss . .
scattMiss . . . . .
sleep . . . . . . . .
spineMiss . . . . .
tao . . . . . . . . .
testdata . . . . . .
vmGUIenvir . . . .
Index
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
3
4
7
8
10
11
15
17
19
20
21
23
25
27
28
30
32
33
34
36
38
39
41
43
45
48
50
51
52
53
54
55
57
59
61
62
64
65
66
68VIM-package
VIM-package
3
Visualization and Imputation of Missing Values

#### Description 

This package introduces new tools for the visualization of missing or imputed values in , which can
be used for exploring the data and the structure of the missing or imputed values. Depending on this
structure, they may help to identify the mechanism generating the missing values or errors, which
may have happened in the imputation process. This knowledge is necessary for selecting an appro-
priate imputation method in order to reliably estimate the missing values. Thus the visualization
tools should be applied before imputation and the diagnostic tools afterwards.

#### Details 

Detecting missing values mechanisms is usually done by statistical tests or models. Visualization
of missing and imputed values can support the test decision, but also reveals more details about
the data structure. Most notably, statistical requirements for a test can be checked graphically, and
problems like outliers or skewed data distributions can be discovered. Furthermore, the included
plot methods may also be able to detect missing values mechanisms in the first place.
A graphical user interface available in the package VIMGUI allows an easy handling of the plot
methods. In addition, VIM can be used for data from essentially any field.
Package:
Version:
Date:
Depends:
Imports:
License:
URL:
VIM
3.0.3
2013-01-09
R (>= 2.10),e1071,car, colorspace, nnet, robustbase, tcltk, tkrplot, sp, vcd, Rcpp
car, colorspace, grDevices, robustbase, stats, tcltk, sp, utils, vcd
GPL (>= 2)
http://cran.r-project.org/package=VIM
Author(s)
Matthias Templ, Andreas Alfons, Alexander Kowarik, Bernd Prantner
Maintainer: Matthias Templ <templ@tuwien.ac.at>
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
M. Templ, A. Kowarik, P. Filzmoser (2011) Iterative stepwise regression imputation using standard
and robust methods. Journal of Computational Statistics and Data Analysis, Vol. 55, pp. 2793-
2806.4
aggr
aggr
Aggregations for missing/imputed values

#### Description 

Calculate or plot the amount of missing/imputed values in each variable and the amount of miss-
ing/imputed values in certain combinations of variables.
Print method for objects of class "aggr".
Summary method for objects of class "aggr".

#### Usage 
<pre><code>

aggr(x, delimiter = NULL, plot = TRUE, ...)
## S3 method for class 'aggr'
plot(x, col = c("skyblue", "red", "orange"), bars = TRUE,
numbers = FALSE, prop = TRUE, combined = FALSE, varheight = FALSE,
only.miss = FALSE, border = par("fg"), sortVars = FALSE,
sortCombs = TRUE, ylabs = NULL, axes = TRUE, labels = axes,
cex.lab = 1.2, cex.axis = par("cex"), cex.numbers = par("cex"),
gap = 4, ...)
## S3 method for class 'aggr'
print(x, digits = NULL, ...)
## S3 method for class 'aggr'
summary(object, ...)
Arguments
x
delimiter
plot
...
col
a vector, matrix or data.frame.
a character-vector to distinguish between variables and imputation-indices for
imputed variables (therefore, x needs to have colnames). If given, it is used
to determine the corresponding imputation-index for any imputed variable (a
logical-vector indicating which values of the variable have been imputed). If
such imputation-indices are found, they are used for highlighting and the colors
are adjusted according to the given colors for imputed variables (see col).
a logical indicating whether the results should be plotted (the default is TRUE).
for aggr and TKRaggr, further arguments and graphical parameters to be passed
to plot.aggr. For plot.aggr, further graphical parameters to be passed down.
par("oma") will be set appropriately unless supplied (see par).
a vector of length three giving the colors to be used for observed, missing and
imputed data. If only one color is supplied, it is used for missing and imputed
data and observed data is transparent. If only two colors are supplied, the first
one is used for observed data and the second color is used for missing and im-
puted data.aggr
5
bars a logical indicating whether a small barplot for the frequencies of the different
combinations should be drawn.
numbers a logical indicating whether the proportion or frequencies of the different com-
binations should be represented by numbers.
prop a logical indicating whether the proportion of missing/imputed values and com-
binations should be used rather than the total amount.
combined a logical indicating whether the two plots should be combined. If FALSE, a
separate barplot on the left hand side shows the amount of missing/imputed
values in each variable. If TRUE, a small version of this barplot is drawn on
top of the plot for the combinations of missing/imputed and non-missing values.
See “
#### Details 
” for more information.
varheight a logical indicating whether the cell heights are given by the frequencies of
occurrence of the corresponding combinations.
only.miss a logical indicating whether the small barplot for the frequencies of the combina-
tions should only be drawn for combinations including missing/imputed values
(if bars is TRUE). This is useful if most observations are complete, in which case
the corresponding bar would dominate the barplot such that the remaining bars
are too compressed. The proportion or frequency of complete observations (as
determined by prop) is then represented by a number instead of a bar.
border the color to be used for the border of the bars and rectangles. Use border=NA to
omit borders.
sortVars a logical indicating whether the variables should be sorted by the number of
missing/imputed values.
sortCombs a logical indicating whether the combinations should be sorted by the frequency
of occurrence.
ylabs if combined is TRUE, a character string giving the y-axis label of the combined
plot, otherwise a character vector of length two giving the y-axis labels for the
two plots.
axes a logical indicating whether axes should be drawn.
labels either a logical indicating whether labels should be plotted on the x-axis, or a
character vector giving the labels.
cex.lab the character expansion factor to be used for the axis labels.
cex.axis the character expansion factor to be used for the axis annotation.
cex.numbers the character expansion factor to be used for the proportion or frequencies of the
different combinations
gap if combined is FALSE, a numeric value giving the distance between the two plots
in margin lines.
digits the minimum number of significant digits to be used (see print.default).
object an object of class "aggr".6
aggr

#### Details 

Often it is of interest how many missing/imputed values are contained in each variable. Even more
interesting, there may be certain combinations of variables with a high number of missing/imputed
values.
If combined is FALSE, two separate plots are drawn for the missing/imputed values in each variable
and the combinations of missing/imputed and non-missing values. The barplot on the left hand
side shows the amount of missing/imputed values in each variable. In the aggregation plot on the
right hand side, all existing combinations of missing/imputed and non-missing values in the ob-
servations are visualized. Available, missing and imputed data are color coded as given by col.
Additionally, there are two possibilities to represent the frequencies of occurrence of the different
combinations. The first option is to visualize the proportions or frequencies by a small bar plot
and/or numbers. The second option is to let the cell heights be given by the frequencies of the cor-
responding combinations. Furthermore, variables may be sorted by the number of missing/imputed
values and combinations by the frequency of occurrence to give more power to finding the structure
of missing/imputed values.
If combined is TRUE, a small version of the barplot showing the amount of missing/imputed values
in each variable is drawn on top of the aggregation plot.
The graphical parameter oma will be set unless supplied as an argument.
Value
for aggr, a list of class "aggr" containing the following components: - x the data used. - combina-
tions a character vector representing the combinations of variables. - count the frequencies of these
combinations. - percent the percentage of these combinations. - missings a data.frame contain-
ing the amount of missing/imputed values in each variable. - tabcomb the indicator matrix for the
combinations of variables.
a list of class "summary.aggr" containing the following components: - missings a data.frame
containing the amount of missing or imputed values in each variable. - combinations a data.frame
containing a character vector representing the combinations of variables along with their frequencies
and percentages.
Note
Some of the argument names and positions have changed with version 1.3 due to extended func-
tionality and for more consistency with other plot functions in VIM. For back compatibility, the
arguments labs and names.arg can still be supplied to ...{} and are handled correctly. Neverthe-
less, they are deprecated and no longer documented. Use ylabs and labels instead.
Author(s)
Andreas Alfons, Matthias Templ, modifications for displaying imputed values by Bernd Prantner
Matthias Templ, modifications by Andreas Alfons and Bernd Prantner
Matthias Templ, modifications by Andreas Alfonsalphablend
7
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
See Also
print.aggr, summary.aggr
aggr
print.summary.aggr, aggr

#### Examples 
```{r}
data(sleep, package="VIM")
## for missing values
a <- aggr(sleep)
a
summary(a)
## for imputed values
sleep_IMPUTED <- kNN(sleep)
a <- aggr(sleep_IMPUTED, delimiter="_imp")
a
summary(a)
data(sleep, package = "VIM")
a <- aggr(sleep, plot=FALSE)
a
data(sleep, package = "VIM")
summary(aggr(sleep, plot=FALSE))
alphablend
Alphablending for colors

#### Description 

Convert colors to semitransparent colors.

#### Usage 
<pre><code>

alphablend(col, alpha = NULL, bg = NULL)8
barMiss
Arguments
col a vector specifying colors.
alpha a numeric vector containing the alpha values (between 0 and 1).
bg the background color to be used for alphablending. This can be used as a
workaround for graphics devices that do not support semitransparent colors.
Value
a vector containing the semitransparent colors.
Author(s)
Andreas Alfons

#### Examples 
```{r}
alphablend("red", 0.6)
barMiss
Barplot with information about missing/imputed values

#### Description 

Barplot with highlighting of missing/imputed values in other variables by splitting each bar into two
parts. Additionally, information about missing/imputed values in the variable of interest is shown
on the right hand side.

#### Usage 
<pre><code>

barMiss(x, delimiter = NULL, pos = 1, selection = c("any", "all"),
col = c("skyblue", "red", "skyblue4", "red4", "orange", "orange4"),
border = NULL, main = NULL, sub = NULL, xlab = NULL, ylab = NULL,
axes = TRUE, labels = axes, only.miss = TRUE, miss.labels = axes,
interactive = TRUE, ...)
Arguments
x a vector, matrix or data.frame.
delimiter a character-vector to distinguish between variables and imputation-indices for
imputed variables (therefore, x needs to have colnames). If given, it is used
to determine the corresponding imputation-index for any imputed variable (a
logical-vector indicating which values of the variable have been imputed). If
such imputation-indices are found, they are used for highlighting and the colors
are adjusted according to the given colors for imputed variables (see col).barMiss
pos
selection
col
border
main, sub
xlab, ylab
axes
labels
only.miss
miss.labels
interactive
...
9
a numeric value giving the index of the variable of interest. Additional variables
in x are used for highlighting.
the selection method for highlighting missing/imputed values in multiple addi-
tional variables. Possible values are "any" (highlighting of missing/imputed val-
ues in any of the additional variables) and "all" (highlighting of missing/imputed
values in all of the additional variables).
a vector of length six giving the colors to be used. If only one color is sup-
plied, the bars are transparent and the supplied color is used for highlighting
missing/imputed values. Else if two colors are supplied, they are recycled.
the color to be used for the border of the bars. Use border=NA to omit borders.
main and sub title.
axis labels.
a logical indicating whether axes should be drawn on the plot.
either a logical indicating whether labels should be plotted below each bar, or a
character vector giving the labels.
logical; if TRUE, the missing/imputed values in the variable of interest are visu-
alized by a single bar. Otherwise, a small barplot is drawn on the right hand side
(see ‘
#### Details 
’).
either a logical indicating whether label(s) should be plotted below the bar(s)
on the right hand side, or a character string or vector giving the label(s) ((see details)..
a logical indicating whether variables can be switched interactively (see ‘De-
tails’).
further graphical parameters to be passed to title and axis.

#### Details 

If more than one variable is supplied, the bars for the variable of interest are split according to
missingness/number of imputed missings in the additional variables.
If only.miss=TRUE, the missing/imputed values in the variable of interest are visualized by one
bar on the right hand side. If additional variables are supplied, this bar is again split into two parts
according to missingness/number of imputed missings in the additional variables.
Otherwise, a small barplot consisting of two bars is drawn on the right hand side. The first bar
corresponds to observed values in the variable of interest and the second bar to missing/imputed
values. Since these two bars are not on the same scale as the main barplot, a second y-axis is
plotted on the right (if axes=TRUE). Each of the two bars are again split into two parts according to
missingness/number of imputed missings in the additional variables. Note that this display does not
make sense if only one variable is supplied, therefore only.miss is ignored in that case.
If interactive=TRUE, clicking in the left margin of the plot results in switching to the previous
variable and clicking in the right margin results in switching to the next variable. Clicking anywhere
else on the graphics device quits the interactive session. When switching to a continuous variable,
a histogram is plotted rather than a barplot.
Value
a numeric vector giving the coordinates of the midpoints of the bars.10
bgmap
Note
Some of the argument names and positions have changed with version 1.3 due to extended func-
tionality and for more consistency with other plot functions in VIM. For back compatibility, the
arguments axisnames, names.arg and names.miss can still be supplied to ...{} and are han-
dled correctly. Nevertheless, they are deprecated and no longer documented. Use labels and
miss.labels instead.
Author(s)
Andreas Alfons, modifications to show imputed values by Bernd Prantner
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
See Also
spineMiss, histMiss

#### Examples 
```{r}
data(sleep, package = "VIM")
## for missing values
x <- sleep[, c("Exp", "Sleep")]
barMiss(x)
barMiss(x, only.miss = FALSE)
## for imputed values
x_IMPUTED <- kNN(sleep[, c("Exp", "Sleep")])
barMiss(x_IMPUTED, delimiter = "_imp")
barMiss(x_IMPUTED, delimiter = "_imp", only.miss = FALSE)
bgmap
Backgound map

#### Description 

Plot a background map.

#### Usage 
<pre><code>

bgmap(map, add = FALSE, ...)chorizonDL
11
Arguments
map either a matrix or data.frame with two columns, a list with components x and
y, or an object of any class that can be used for maps and provides its own plot
method (e.g., "SpatialPolygons" from package sp). A list of the previously
mentioned types can also be provided.
add a logical indicating whether map should be added to an already existing plot (the
default is FALSE).
... further arguments and graphical parameters to be passed to plot and/or lines.
Author(s)
Andreas Alfons
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
See Also
growdotMiss, mapMiss

#### Examples 
```{r}
data(kola.background, package = "VIM")
bgmap(kola.background)
chorizonDL
C-horizon of the Kola data with missing values

#### Description 

This data set is the same as the chorizon data set in package mvoutlier, except that values below
the detection limit are coded as NA.
Format
A data frame with 606 observations on the following 110 variables.
*ID a numeric vector
XCOO a numeric vector
YCOO a numeric vector
Ag a numeric vector12
chorizonDL
Ag_INAA a numeric vector
Al a numeric vector
Al2O3 a numeric vector
As a numeric vector
As_INAA a numeric vector
Au_INAA a numeric vector
B a numeric vector
Ba a numeric vector
Ba_INAA a numeric vector
Be a numeric vector
Bi a numeric vector
Br_IC a numeric vector
Br_INAA a numeric vector
Ca a numeric vector
Ca_INAA a numeric vector
CaO a numeric vector
Cd a numeric vector
Ce_INAA a numeric vector
Cl_IC a numeric vector
Co a numeric vector
Co_INAA a numeric vector
EC a numeric vector
Cr a numeric vector
Cr_INAA a numeric vector
Cs_INAA a numeric vector
Cu a numeric vector
Eu_INAA a numeric vector
F_IC a numeric vector
Fe a numeric vector
Fe_INAA a numeric vector
Fe2O3 a numeric vector
Hf_INAA a numeric vector
Hg a numeric vector
Hg_INAA a numeric vector
Ir_INAA a numeric vector
K a numeric vector
K2O a numeric vectorchorizonDL
La a numeric vector
La_INAA a numeric vector
Li a numeric vector
LOI a numeric vector
Lu_INAA a numeric vector
wt_INAA a numeric vector
Mg a numeric vector
MgO a numeric vector
Mn a numeric vector
MnO a numeric vector
Mo a numeric vector
Mo_INAA a numeric vector
Na a numeric vector
Na_INAA a numeric vector
Na2O a numeric vector
Nd_INAA a numeric vector
Ni a numeric vector
Ni_INAA a numeric vector
NO3_IC a numeric vector
P a numeric vector
P2O5 a numeric vector
Pb a numeric vector
pH a numeric vector
PO4_IC a numeric vector
Rb a numeric vector
S a numeric vector
Sb a numeric vector
Sb_INAA a numeric vector
Sc a numeric vector
Sc_INAA a numeric vector
Se a numeric vector
Se_INAA a numeric vector
Si a numeric vector
SiO2 a numeric vector
Sm_INAA a numeric vector
Sn_INAA a numeric vector
SO4_IC a numeric vector
1314
chorizonDL
Sr a numeric vector
Sr_INAA a numeric vector
SUM_XRF a numeric vector
Ta_INAA a numeric vector
Tb_INAA a numeric vector
Te a numeric vector
Th a numeric vector
Th_INAA a numeric vector
Ti a numeric vector
TiO2 a numeric vector
U_INAA a numeric vector
V a numeric vector
W_INAA a numeric vector
Y a numeric vector
Yb_INAA a numeric vector
Zn a numeric vector
Zn_INAA a numeric vector
ELEV a numeric vector
*COUN a numeric vector
*ASP a numeric vector
TOPC a numeric vector
LITO a numeric vector
Al_XRF a numeric vector
Ca_XRF a numeric vector
Fe_XRF a numeric vector
K_XRF a numeric vector
Mg_XRF a numeric vector
Mn_XRF a numeric vector
Na_XRF a numeric vector
P_XRF a numeric vector
Si_XRF a numeric vector
Ti_XRF a numeric vector
Note
For a more detailed description of this data set, see chorizon in package mvoutlier.
Source
Kola Project (1993-1998)colormapMiss
15
References
Reimann, C., Filzmoser, P., Garrett, R.G. and Dutter, R. (2008) Statistical Data Analysis Explained:
Applied Environmental Statistics with R. Wiley.
See Also
chorizon

#### Examples 
```{r}
data(chorizonDL, package = "VIM")
summary(chorizonDL)
colormapMiss
Colored map with information about missing/imputed values

#### Description 

Colored map in which the proportion or amount of missing/imputed values in each region is coded
according to a continuous or discrete color scheme. The sequential color palette may thereby be
computed in the HCL or the RGB color space.

#### Usage 
<pre><code>

colormapMiss(x, region, map, imp_index = NULL,
polysRegion = 1:length(x), range = NULL, n =
"orange"), gamma = 2.2, fixup = TRUE, coords
digits = 2, cex.numbers = 0.8, col.numbers =
interactive = TRUE, ...)
prop = TRUE,
NULL, col = c("red",
= NULL, numbers = TRUE,
par("fg"), legend = TRUE,
colormapMissLegend(xleft, ybottom, xright, ytop, cmap, n = 1000,
horizontal = TRUE, digits = 2, cex.numbers = 0.8,
col.numbers = par("fg"), ...)
Arguments
x a numeric vector.
region a vector or factor of the same length as x giving the regions.
map an object of any class that contains polygons and provides its own plot method
(e.g., "SpatialPolygons" from package sp).
imp_index a logical-vector indicating which values of ‘x’ have been imputed. If given, it is
used for highlighting and the colors are adjusted according to the given colors
for imputed variables (see col).16
colormapMiss
prop
polysRegion
range
n
col
gamma
fixup
coords
numbers
digits
cex.numbers
col.numbers
legend
interactive
...
xleft
ybottom
xright
ytop
cmap
horizontal
a logical indicating whether the proportion of missing/imputed values should be
used rather than the total amount.
a numeric vector specifying the region that each polygon belongs to.
a numeric vector of length two specifying the range (minimum and maximum)
of the proportion or amount of missing/imputed values to be used for the color
scheme.
for colormapMiss, the number of equally spaced cut-off points for a discretized
color scheme. If this is not a positive integer, a continuous color scheme is used
(the default). In the latter case, the number of rectangles to be drawn in the
legend can be specified in colormapMissLegend. A reasonably large number
makes it appear continuously.
the color range (start end end) to be used. RGB colors may be specified as
character strings or as objects of class "RGB". HCL colors need to be specified
as objects of class "polarLUV". If only one color is supplied, it is used as end
color, while the start color is taken to be transparent for RGB or white for HCL.
numeric; the display gamma value (see hex).
a logical indicating whether the colors should be corrected to valid RGB values
(see hex).
a matrix or data.frame with two columns giving the coordinates for the labels.
a logical indicating whether the corresponding proportions or numbers of miss-
ing/imputed values should be used as labels for the regions.
the number of digits to be used in the labels (in case of proportions).
the character expansion factor to be used for the labels.
the color to be used for the labels.
a logical indicating whether a legend should be plotted.
a logical indicating whether more detailed information about missing/imputed
values should be displayed interactively (see ‘
#### Details 
’).
further arguments to be passed to plot.
left x position of the legend.
bottom y position of the legend.
right x position of the legend.
top y position of the legend.
a list as returned by colormapMiss that contains the required information for
the legend.
a logical indicating whether the legend should be drawn horizontally or verti-
cally.

#### Details 

The proportion or amount of missing/imputed values in x of each region is coded according to a
continuous or discrete color scheme in the color range defined by col. In addition, the proportions
or numbers can be shown as labels in the regions.
If interactive is TRUE, clicking in a region displays more detailed information about missing/imputed
values on the console. Clicking outside the borders quits the interactive session.colSequence
17
Value
colormapMiss returns a list with the following components: - nmiss a numeric vector containing the
number of missing/imputed values in each region. - nobs a numeric vector containing the number of
observations in each region. - pmiss a numeric vector containing the proportion of missing values in
each region. - prop a logical indicating whether the proportion of missing/imputed values have been
used rather than the total amount. - range the range of the proportion or amount of missing/imputed
values corresponding to the color range. - n either a positive integer giving the number of equally
spaced cut-off points for a discretized color scheme, or NULL for a continuous color scheme. - start
the start color of the color scheme. - end the end color of the color scheme. - space a character
string giving the color space (either "rgb" for RGB colors or "hcl" for HCL colors). - gamma
numeric; the display gamma value (see hex). - fixup a logical indicating whether the colors have
been corrected to valid RGB values (see hex).
Note
Some of the argument names and positions have changed with versions 1.3 and 1.4 due to extended
functionality and for more consistency with other plot functions in VIM. For back compatibility,
the arguments cex.text and col.text can still be supplied to ...{} and are handled correctly.
Nevertheless, they are deprecated and no longer documented. Use cex.numbers and col.numbers
instead.
Author(s)
Andreas Alfons, modifications to show imputed values by Bernd Prantner
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
See Also
colSequence, growdotMiss, mapMiss
colSequence
HCL and RGB color sequences

#### Description 

Compute color sequences by linear interpolation based on a continuous color scheme between cer-
tain start and end colors. Color sequences may thereby be computed in the HCL or RGB color
space.18
colSequence

#### Usage 
<pre><code>

colSequence(p, start, end, space = c("hcl", "rgb"), ...)
colSequenceRGB(p, start, end, fixup = TRUE, ...)
colSequenceHCL(p, start, end, fixup = TRUE, ...)
Arguments
p
a numeric vector in
[0, 1]
giving values to be used for interpolation between the start and end color (0
corresponds to the start color, 1 to the end color).
start, end the start and end color, respectively. For HCL colors, each can be supplied as a
vector of length three (hue, chroma, luminance) or an object of class "polarLUV".
For RGB colors, each can be supplied as a character string, a vector of length
three (red, green, blue) or an object of class "RGB".
space character string; if start and end are both numeric, this determines whether
they refer to HCL or RGB values. Possible values are "hcl" (for the HCL
space) or "rgb" (for the RGB space).
... for colSequence, additional arguments to be passed to colSequenceHCL or
colSequenceRGB. For colSequenceHCL and colSequenceRGB, additional argu-
ments to be passed to hex.
fixup a logical indicating whether the colors should be corrected to valid RGB values
(see hex).
Value
A character vector containing hexadecimal strings of the form "#RRGGBB".
Author(s)
Andreas Alfons
References
Zeileis, A., Hornik, K., Murrell, P. (2009) Escaping RGBland: Selecting colors for statistical graph-
ics. Computational Statistics & Data Analysis, 53 (9), 1259–1270.
See Also
hex, sequential_hclcountInf
19

#### Examples 
```{r}
p <- c(0, 0.3, 0.55, 0.8, 1)
## HCL colors
colSequence(p, c(0, 0, 100), c(0, 100, 50))
colSequence(p, polarLUV(L=90, C=30, H=90), c(0, 100, 50))
## RGB colors
colSequence(p, c(1, 1, 1), c(1, 0, 0), space="rgb")
colSequence(p, RGB(1, 1, 0), "red")

SBS5242
Synthetic subset of the Austrian structural business statistics data

#### Description 

Synthetic subset of the Austrian structural business statistics (SBS) data, namely NACE code 52.42
(retail sale of clothing).scattJitt
55

#### Details 

The Austrian SBS data set consists of more than 320.000 enterprises. Available raw (unedited) data
set: 21669 observations in 90 variables, structured according NACE revision 1.1 with 3891 missing
values.
We investigate 9 variables of NACE 52.42 (retail sale of clothing).
From these confidential raw data set a non-confidential, close-to-reality, synthetic data set was gen-
erated.
Source
http://www.statistik.at

#### Examples 
```{r}
data(SBS5242)
aggr(SBS5242)
scattJitt
Bivariate jitter plot

#### Description 

Create a bivariate jitter plot.

#### Usage 
<pre><code>

scattJitt(x, delimiter = NULL, col = c("skyblue", "red", "red4", "orange",
"orange4"), alpha = NULL, cex = par("cex"), col.line = "lightgrey",
lty = "dashed", lwd = par("lwd"), numbers = TRUE,
cex.numbers = par("cex"), main = NULL, sub = NULL, xlab = NULL,
ylab = NULL, axes = TRUE, frame.plot = axes, labels = c("observed",
"missing", "imputed"), ...)
Arguments
x a data.frame or matrix with two columns.
delimiter a character-vector to distinguish between variables and imputation-indices for
imputed variables (therefore, x needs to have colnames). If given, it is used
to determine the corresponding imputation-index for any imputed variable (a
logical-vector indicating which values of the variable have been imputed). If
such imputation-indices are found, they are used for highlighting and the colors
are adjusted according to the given colors for imputed variables (see col).56
scattJitt
col
alpha
cex
col.line
lty
lwd
numbers
cex.numbers
main, sub
xlab, ylab
axes
frame.plot
labels
...
a vector of length five giving the colors to be used in the plot. The first color will
be used for complete observations, the second/fourth color for missing/imputed
values in only one variable, and the third/fifth color for missing/imputed values
in both variables. If only one color is supplied, it is used for all. Else if two
colors are supplied, the second one is recycled.
a numeric value between 0 and 1 giving the level of transparency of the colors,
or NULL. This can be used to prevent overplotting.
the character expansion factor for the plot characters.
the color for the lines dividing the plot region.
the line type for the lines dividing the plot region (see par).
the line width for the lines dividing the plot region.
a logical indicating whether the frequencies of observed and missing/imputed
values should be displayed (see ‘
#### Details 
’).
the character expansion factor to be used for the frequencies of the observed and
missing/imputed values.
main and sub title.
axis labels.
a logical indicating whether both axes should be drawn on the plot. Use graphi-
cal parameter "xaxt" or "yaxt" to suppress just one of the axes.
a logical indicating whether a box should be drawn around the plot.
a vector of length three giving the axis labels for the regions for observed, miss-
ing and imputed values (see ‘
#### Details 
’).
further graphical parameters to be passed down (see par).

#### Details 

The amount of observed and missing/imputed values is visualized by jittered points. Thereby the plot region is divided into up to four regions according to the existence of missing/imputed values
in one or both variables. In addition, the amount of observed and missing/imputed values can be represented by a number.
Note
Some of the argument names and positions have changed with version 1.3 due to extended function-
ality and for more consistency with other plot functions in VIM. For back compatibility, the argument cex.text can still be supplied to ...{} and is handled correctly. Nevertheless, it is deprecated and
no longer documented. Use cex.numbers instead.
Author(s)
Matthias Templ, modifications by Andreas Alfons and Bernd Prantner
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.scattmatrixMiss
57

#### Examples 
```{r}
data(tao, package = "VIM")
## for missing values
scattJitt(tao[, c("Air.Temp", "Humidity")])
## for imputed values
scattJitt(kNN(tao[, c("Air.Temp", "Humidity")]), delimiter = "_imp")
scattmatrixMiss
Scatterplot matrix with information about missing/imputed values

#### Description 

Scatterplot matrix in which observations with missing/imputed values in certain variables are high-
lighted.

#### Usage 
<pre><code>

scattmatrixMiss(x, delimiter = NULL, highlight = NULL,
selection = c("any", "all"), plotvars = NULL, col = c("skyblue", "red",
"orange"), alpha = NULL, pch = c(1, 3), lty = par("lty"),
diagonal = c("density", "none"), interactive = TRUE, ...)
Arguments
x a matrix or data.frame.
delimiter a character-vector to distinguish between variables and imputation-indices for imputed variables (therefore, x needs to have colnames). If given, it is used
to determine the corresponding imputation-index for any imputed variable (a
logical-vector indicating which values of the variable have been imputed). If such imputation-indices are found, they are used for highlighting and the colors
are adjusted according to the given colors for imputed variables (see col).
highlight a vector giving the variables to be used for highlighting. If NULL (the default),
all variables are used for highlighting.
selection the selection method for highlighting missing/imputed values in multiple high-
light variables. Possible values are "any" (highlighting of missing/imputed values in any of the highlight variables) and "all" (highlighting of missing/imputed
values in all of the highlight variables).
plotvars a vector giving the variables to be plotted. If NULL (the default), all variables are plotted.
col a vector of length three giving the colors to be used in the plot. The second/third color will be used for highlighting missing/imputed values.
alpha a numeric value between 0 and 1 giving the level of transparency of the colors, or NULL. This can be used to prevent overplotting.58
scattmatrixMiss
pch a vector of length two giving the plot characters. The second plot character will
be used for the highlighted observations.
lty a vector of length two giving the line types for the density plots in the diagonal panels (if diagonal="density"). The second line type is used for the
highlighted observations. If a single value is supplied, it is used for both non-
highlighted and highlighted observations.
diagonal a character string specifying the plot to be drawn in the diagonal panels. Pos-
sible values are "density" (density plots for non-highlighted and highlighted
observations) and "none".
interactive a logical indicating whether the variables to be used for highlighting can be selected interactively (see ‘
#### Details 
’).
... for scattmatrixMiss, further arguments and graphical parameters to be passed
to pairsVIM. par("oma") will be set appropriately unless supplied (see par).
For TKRscattmatrixMiss, further arguments to be passed to scattmatrixMiss.

#### Details 

scattmatrixMiss uses pairsVIM with a panel function that allows highlighting of missing/imputed
values.
If interactive=TRUE, the variables to be used for highlighting can be selected interactively. Ob-
servations with missing/imputed values in any or in all of the selected variables are highlighted (as
determined by selection). A variable can be added to the selection by clicking in a diagonal panel.
If a variable is already selected, clicking on the corresponding diagonal panel removes it from the
selection. Clicking anywhere else quits the interactive session.
The graphical parameter oma will be set unless supplied as an argument.
TKRscattmatrixMiss behaves like scattmatrixMiss, but uses tkrplot to embed the plot in a
Tcl/Tk window. This is useful if the number of variables is large, because scrollbars allow to move
from one part of the plot to another.
Note
Some of the argument names and positions have changed with version 1.3 due to a re-implementation
and for more consistency with other plot functions in VIM. For back compatibility, the argument
colcomb can still be supplied to ...{} and is handled correctly. Nevertheless, it is deprecated and
no longer documented. Use highlight instead. The arguments smooth, reg.line and legend.plot
are no longer used and ignored if supplied.
Author(s)
Andreas Alfons, Matthias Templ, modifications by Bernd Prantner
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.scattMiss
59
See Also
pairsVIM, marginmatrix

#### Examples 
```{r}
data(sleep, package = "VIM")
## for missing values
x <- sleep[, 1:5]
x[,c(1,2,4)] <- log10(x[,c(1,2,4)])
scattmatrixMiss(x, highlight = "Dream")
## for imputed values
x_imp <- kNN(sleep[, 1:5])
x_imp[,c(1,2,4)] <- log10(x_imp[,c(1,2,4)])
scattmatrixMiss(x_imp, delimiter = "_imp", highlight = "Dream")
scattMiss
Scatterplot with information about missing/imputed values

#### Description 

In addition to a standard scatterplot, lines are plotted for the missing values in one variable. If there
are imputed values, they will be highlighted.

#### Usage 
<pre><code>

scattMiss(x, delimiter = NULL, side = 1, col = c("skyblue", "red",
"orange", "lightgrey"), alpha = NULL, lty = c("dashed", "dotted"),
lwd = par("lwd"), quantiles = c(0.5, 0.975), inEllipse = FALSE,
zeros = FALSE, xlim = NULL, ylim = NULL, main = NULL, sub = NULL,
xlab = NULL, ylab = NULL, interactive = TRUE, ...)
Arguments
x a matrix or data.frame with two columns.
delimiter a character-vector to distinguish between variables and imputation-indices for
imputed variables (therefore, x needs to have colnames). If given, it is used
to determine the corresponding imputation-index for any imputed variable (a
logical-vector indicating which values of the variable have been imputed). If
such imputation-indices are found, they are used for highlighting and the colors
are adjusted according to the given colors for imputed variables (see col).
side if side=1, a rug representation and vertical lines are plotted for the missing/imputed
values in the second variable; if side=2, a rug representation and horizontal lines
for the missing/imputed values in the first variable.60
scattMiss
col a vector of length four giving the colors to be used in the plot. The first color
is used for the scatterplot, the second/third color for the rug representation for
missing/imputed values. The second color is also used for the lines for missing
values. Imputed values will be highlighted with the third color, and the fourth
color is used for the ellipses (see ‘
#### Details 
’). If only one color is supplied, it is
used for the scatterplot, the rug representation and the lines, whereas the default
color is used for the ellipses. Else if a vector of length two is supplied, the
default color is used for the ellipses as well.
alpha a numeric value between 0 and 1 giving the level of transparency of the colors,
or NULL. This can be used to prevent overplotting.
lty a vector of length two giving the line types for the lines and ellipses. If a single
value is supplied, it will be used for both.
lwd a vector of length two giving the line widths for the lines and ellipses. If a single
value is supplied, it will be used for both.
quantiles a vector giving the quantiles of the chi-square distribution to be used for the
tolerance ellipses, or NULL to suppress plotting ellipses (see ‘
#### Details 
’).
inEllipse plot lines only inside the largest ellipse. Ignored if quantiles is NULL or if there
are imputed values.
zeros a logical vector of length two indicating whether the variables are semi-continuous,
i.e., contain a considerable amount of zeros. If TRUE, only the non-zero observa-
tions are used for computing the tolerance ellipses. If a single logical is supplied,
it is recycled. Ignored if quantiles is NULL.
xlim, ylim axis limits.
main, sub main and sub title.
xlab, ylab axis labels.
interactive a logical indicating whether the side argument can be changed interactively ((see details)..
... further graphical parameters to be passed down (see par).

#### Details 

Information about missing values in one variable is included as vertical or horizontal lines, as deter-
mined by the side argument. The lines are thereby drawn at the observed x- or y-value. In case of
imputed values, they will additionally be highlighted in the scatterplot. Supplementary, percentage
coverage ellipses can be drawn to give a clue about the shape of the bivariate data distribution.
If interactiveis TRUE, clicking in the bottom margin redraws the plot with information about
missing/imputed values in the first variable and clicking in the left margin redraws the plot with
information about missing/imputed values in the second variable. Clicking anywhere else in the
plot quits the interactive session.
Note
The argument zeros has been introduced in version 1.4. As a result, some of the argument positions
have changed.sleep
61
Author(s)
Andreas Alfons, modifications by Bernd Prantner
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
See Also
marginplot

#### Examples 
```{r}
data(tao, package = "VIM")
## for missing values
scattMiss(tao[,c("Air.Temp", "Humidity")])
## for imputed values
scattMiss(kNN(tao[,c("Air.Temp", "Humidity")]), delimiter = "_imp")
sleep
Mammal sleep data

#### Description 

Sleep data with missing values.
Format
A data frame with 62 observations on the following 10 variables.
BodyWgt a numeric vector
BrainWgt a numeric vector
NonD a numeric vector
Dream a numeric vector
Sleep a numeric vector
Span a numeric vector
Gest a numeric vector
Pred a numeric vector
Exp a numeric vector
Danger a numeric vector62
spineMiss
Source
Allison, T. and Chichetti, D. (1976) Sleep in mammals: ecological and constitutional correlates.
Science 194 (4266), 732–734.
The data set was imported from GGobi.

#### Examples 
```{r}
data(sleep, package = "VIM")
summary(sleep)
aggr(sleep)
spineMiss
Spineplot with information about missing/imputed values

#### Description 

Spineplot or spinogram with highlighting of missing/imputed values in other variables by splitting
each cell into two parts. Additionally, information about missing/imputed values in the variable of
interest is shown on the right hand side.

#### Usage 
<pre><code>

spineMiss(x, delimiter = NULL, pos = 1, selection = c("any", "all"),
breaks = "Sturges", right = TRUE, col = c("skyblue", "red", "skyblue4",
"red4", "orange", "orange4"), border = NULL, main = NULL, sub = NULL,
xlab = NULL, ylab = NULL, axes = TRUE, labels = axes,
only.miss = TRUE, miss.labels = axes, interactive = TRUE, ...)
Arguments
x a vector, matrix or data.frame.
delimiter a character-vector to distinguish between variables and imputation-indices for imputed variables (therefore, x needs to have colnames). If given, it is used
to determine the corresponding imputation-index for any imputed variable (a logical-vector indicating which values of the variable have been imputed). If
such imputation-indices are found, they are used for highlighting and the colors are adjusted according to the given colors for imputed variables (see col).
pos a numeric value giving the index of the variable of interest. Additional variables
in x are used for highlighting.
selection the selection method for highlighting missing/imputed values in multiple addi-
tional variables. Possible values are "any" (highlighting of missing/imputed val-
ues in any of the additional variables) and "all" (highlighting of missing/imputed values in all of the additional variables).spineMiss
63
breaks if the variable of interest is numeric, breaks controls the breakpoints (see hist
for possible values).
right logical; if TRUE and the variable of interest is numeric, the spinogram cells are
right-closed (left-open) intervals.
col a vector of length six giving the colors to be used. If only one color is supplied, the bars are transparent and the supplied color is used for highlighting
missing/imputed values. Else if two colors are supplied, they are recycled.
border the color to be used for the border of the cells. Use border=NA to omit borders.
main, sub main and sub title.
xlab, ylab axis labels.
axes a logical indicating whether axes should be drawn on the plot.
labels if the variable of interest is categorical, either a logical indicating whether labels should be plotted below each cell, or a character vector giving the labels. This
is ignored if the variable of interest is numeric.
only.miss logical; if TRUE, the missing/imputed values in the variable of interest are also visualized by a cell in the spineplot or spinogram. Otherwise, a small spineplot
is drawn on the right hand side (see ‘
#### Details 
’).
miss.labels either a logical indicating whether label(s) should be plotted below the cell(s)
on the right hand side, or a character string or vector giving the label(s) ((see details)..
interactive a logical indicating whether the variables can be switched interactively (see ‘De-
tails’).
... further graphical parameters to be passed to title and axis.

#### Details 

A spineplot is created if the variable of interest is categorial and a spinogram if it is numerical.
The horizontal axis is scaled according to relative frequencies of the categories/classes. If more
than one variable is supplied, the cells are split according to missingness/number of imputed values
in the additional variables. Thus the proportion of highlighted observations in each category/class
is displayed on the vertical axis. Since the height of each cell corresponds to the proportion of
highlighted observations, it is now possible to compare the proportions of missing/imputed values
among the different categories/classes.
If only.miss=TRUE, the missing/imputed values in the variable of interest are also visualized by a
cell in the spine plot or spinogram. If additional variables are supplied, this cell is again split into
two parts according to missingness/number if imputed values in the additional variables.
Otherwise, a small spineplot that visualizes missing/imputed values in the variable of interest is
drawn on the right hand side. The first cell corresponds to observed values and the second cell to
missing/imputed values. Each of the two cells is again split into two parts according to missing-
ness/number of imputed values in the additional variables. Note that this display does not make
sense if only one variable is supplied, therefore only.miss is ignored in that case.
If interactive=TRUE, clicking in the left margin of the plot results in switching to the previous
variable and clicking in the right margin results in switching to the next variable. Clicking anywhere
else on the graphics device quits the interactive session.64
tao
Value
a table containing the frequencies corresponding to the cells.
Note
Some of the argument names and positions have changed with version 1.3 due to extended func-
tionality and for more consistency with other plot functions in VIM. For back compatibility, the
arguments xaxlabels and missaxlabels can still be supplied to ...{} and are handled correctly.
Nevertheless, they are deprecated and no longer documented. Use labels and miss.labels in-
stead.
The code is based on the function spineplot by Achim Zeileis.
Author(s)
Andreas Alfons, Matthias Templ, modifications by Bernd Prantner
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
See Also
histMiss, barMiss, mosaicMiss

#### Examples 
```{r}
data(tao, package = "VIM")
data(sleep, package = "VIM")
## for missing values
spineMiss(tao[, c("Air.Temp", "Humidity")])
spineMiss(sleep[, c("Exp", "Sleep")])
## for imputed values
spineMiss(kNN(tao[, c("Air.Temp", "Humidity")]), delimiter = "_imp")
spineMiss(kNN(sleep[, c("Exp", "Sleep")]), delimiter = "_imp")
tao
Tropical Atmosphere Ocean (TAO) project data

#### Description 

A small subsample of the Tropical Atmosphere Ocean (TAO) project data, derived from the GGOBI
project.testdata
65
Format
A data frame with 736 observations on the following 8 variables.
Year a numeric vector
Latitude a numeric vector
Longitude a numeric vector
Sea.Surface.Temp a numeric vector
Air.Temp a numeric vector
Humidity a numeric vector
UWind a numeric vector
VWind a numeric vector

#### Details 

All cases recorded for five locations and two time periods.
Source
http://www.pmel.noaa.gov/tao/

#### Examples 
```{r}
data(tao, package = "VIM")
summary(tao)
aggr(tao)
testdata
Simulated data set for testing purpose

#### Description 

2 numeric, 2 binary, 2 nominal and 2 mixed (semi-continous) variables
Format
The format is: List of 4 $ wna :’data.frame’: 500 obs. of 8 variables: ..$ x1: num [1:500] 10.87
9.53 7.83 8.53 8.67 ... ..$ x2: num [1:500] 10.9 9.32 7.68 8.2 8.41 ... ..$ c1: Factor w/ 4 levels
"a","b","c","d": 3 2 2 1 2 2 1 3 3 2 ... ..$ c2: Factor w/ 4 levels "a","b","c","d": 2 3 2 2 2 2 2 4 2 2
... ..$ b1: Factor w/ 2 levels "0","1": 2 2 1 2 1 2 1 2 1 1 ... ..$ b2: Factor w/ 2 levels "0","1": 2 2 1 1
1 1 1 2 2 2 ... ..$ m1: num [1:500] 0 8.29 9.08 0 0 ... ..$ m2: num [1:500] 10.66 9.39 7.8 8.11 7.33
... $ wona :’data.frame’: 500 obs. of 8 variables: ..$ x1: num [1:500] 10.87 9.53 7.83 8.53 8.67 ...
..$ x2: num [1:500] 10.9 9.32 7.68 8.2 8.41 ... ..$ c1: Factor w/ 4 levels "a","b","c","d": 3 2 2 1 2 2
1 3 3 2 ... ..$ c2: Factor w/ 4 levels "a","b","c","d": 2 3 2 2 2 2 2 4 2 2 ... ..$ b1: Factor w/ 2 levels
"0","1": 2 2 1 2 1 2 1 2 1 1 ... ..$ b2: Factor w/ 2 levels "0","1": 2 2 1 1 1 1 1 2 2 2 ... ..$ m1: num
[1:500] 0 8.29 9.08 0 0 ... ..$ m2: num [1:500] 10.66 9.39 7.8 8.11 7.33 ... $ mixed : chr [1:2] "m1"
"m2" $ outlierInd: NULL66
vmGUIenvir

#### Examples 
```{r}
data(testdata)
vmGUIenvir
Environment for the GUI for Visualization and Imputation of Missing
Values

#### Description 

Location were everything from package VIM and VIMGUI is stored.

#### Usage 
<pre><code>

vmGUIenvir
putVm(x, value)
getVm(x, mode = "any")
existsVm(x, mode = "any")
rmVm(...)
Arguments
x object name
value value to be assigned to x
mode see ’exists’
... see ’rm’
Format
An object of class environment of length 0.

#### Details 

Internal information regarding the VIM GUI is stored in the environment vmGUIenvir.
Author(s)
Andreas Alfons, based on an initial design by Matthias Templ, modifications by Bernd PrantnervmGUIenvir
67
References
M. Templ, A. Alfons, P. Filzmoser (2012) Exploring incomplete data using visualization tools.
Journal of Advances in Data Analysis and Classification, Online first. DOI: 10.1007/s11634-011-
0102-y.
