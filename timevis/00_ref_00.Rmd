Package ‘timevis’
January 16, 2019
Title Create Interactive Timeline Visualizations in R
Version 0.5

#### Description
 Create rich and fully interactive timeline visualizations.
Timelines can be included in Shiny apps and R markdown documents, or viewed
from the R console and 'RStudio' Viewer. 'timevis' includes an extensive API
to manipulate a timeline after creation, and supports getting data out of
the visualization into R. Based on the 'vis.js' Timeline module and the
'htmlwidgets' R package.
URL https://github.com/daattali/timevis,
http://daattali.com/shiny/timevis-demo/
BugReports https://github.com/daattali/timevis/issues
Depends R (>= 3.1.0)
Imports htmltools (>= 0.2.6), htmlwidgets (>= 0.6), jsonlite,
lubridate, magrittr, methods, rmarkdown, shiny
Suggests knitr (>= 1.7), testthat (>= 0.9.1), tibble
License MIT + file LICENSE
Encoding UTF-8
LazyData true
VignetteBuilder knitr
RoxygenNote 6.1.1
NeedsCompilation no
Author Dean Attali [aut, cre] (R interface),
Almende B.V. [aut, cph] (vis.js library, http://visjs.org,
http://www.almende.com/home)
Maintainer Dean Attali <daattali@gmail.com>
Repository CRAN
Date/Publication 2019-01-16 09:00:03 UTC
12
addCustomTime
R topics documented:
addCustomTime . . .
addItem . . . . . . .
addItems . . . . . . .
centerItem . . . . . .
centerTime . . . . .
fitWindow . . . . . .
removeCustomTime .
removeItem . . . . .
runExample . . . . .
setGroups . . . . . .
setItems . . . . . . .
setOptions . . . . . .
setSelection . . . . .
setWindow . . . . .
timevis . . . . . . . .
timevis-shiny . . . .
timevisData . . . . .
timevisDataGroups 



























































.
Inde
8
9
10
11
12
13
14
15
20
22
22
23
addCustomTime
Add a new vertical bar at a time point that can be dragged by the user

#### Description

Add a new vertical bar at a time point that can be dragged by the user

#### Usage
<pre><code>


addCustomTime(id, time, itemId)

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
time The date/time to add
itemId The id of the custom time bar

#### Examples
```{r}

timevis() %>%
addCustomTime(Sys.Date() - 1, "yesterday")
if (interactive()) {
library(shiny)addItem
3
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Add time bar 24 hours ago")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis()
)
observeEvent(input$btn, {
addCustomTime("timeline", Sys.Date() - 1, "yesterday")
})
}
)
}
addItem
Add a single item to a timeline

#### Description

Add a single item to a timeline

#### Usage
<pre><code>


addItem(id, data)

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
data A named list containing the item data to add.

#### Examples
```{r}

timevis() %>%
addItem(list(start = Sys.Date(), content = "Today"))
if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Add item today")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis()
)
observeEvent(input$btn, {4
addItems
)
}
}
})
addItem("timeline", list(start = Sys.Date(), content = "Today"))
addItems
Add multiple items to a timeline

#### Description

Add multiple items to a timeline

#### Usage
<pre><code>


addItems(id, data)

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
data A dataframe containing the items data to add.

#### Examples
```{r}

timevis() %>%
addItems(data.frame(start = c(Sys.Date(), Sys.Date() - 1),
content = c("Today", "Yesterday")))
if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Add items today and yesterday")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis()
)
observeEvent(input$btn, {
addItems("timeline",
data.frame(start = c(Sys.Date(), Sys.Date() - 1),
content = c("Today", "Yesterday")))
})
}
)
}centerItem
centerItem
5
Move the window such that given item or items are centered

#### Description

Move the window such that given item or items are centered

#### Usage
<pre><code>


centerItem(id, itemId, options)

<code></pre>
#### Arguments

id
itemId
options
Timeline id or a timevis object (the output from timevis())
A vector (or single value) of the item ids to center
Named list of options controlling mainly the animation. Most common option is
"animation" = TRUE/FALSE. For a full list of options, see the "focus" method
in the official Timeline documentation

#### Examples
```{r}

timevis(data.frame(
id = 1:3,
start = c(Sys.Date() - 1, Sys.Date(), Sys.Date() + 1),
content = c("Item 1", "Item 2", "Item 3"))
) %>%
centerItem(1)
if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Center around item 1")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis(
data.frame(id = 1:3,
start = c(Sys.Date() - 1, Sys.Date(), Sys.Date() + 1),
content = c("Item 1", "Item 2", "Item 3"))
)
)
observeEvent(input$btn, {
centerItem("timeline", 1)
})
}
)
}6
centerTime
centerTime
Move the window such that the given time is centered

#### Description

Move the window such that the given time is centered

#### Usage
<pre><code>


centerTime(id, time, options)

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
time The date/time to center around
options Named list of options controlling the animation. Most common option is "animation" = TRUE/FALSE.
For a full list of options, see the "moveTo" method in the official Timeline doc-
umentation

#### Examples
```{r}

timevis() %>%
centerTime(Sys.Date() - 1)
if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Center around 24 hours ago")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis()
)
observeEvent(input$btn, {
centerTime("timeline", Sys.Date() - 1)
})
}
)
}fitWindow
fitWindow
7
Adjust the visible window such that it fits all items

#### Description

Adjust the visible window such that it fits all items

#### Usage
<pre><code>


fitWindow(id, options)

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
options Named list of options controlling the animation. Most common option is "animation" = TRUE/FALSE.
For a full list of options, see the "fit" method in the official Timeline documen-
tation

#### Examples
```{r}

if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Fit all items")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis(data.frame(
id = 1:2, start = c(Sys.Date(), Sys.Date() - 1), content = c("1", "2")
))
)
observeEvent(input$btn, {
fitWindow("timeline", list(animation = FALSE))
})
}
)
}
removeCustomTime
Remove a custom time previously added

#### Description

Remove a custom time previously added8
removeItem

#### Usage
<pre><code>


removeCustomTime(id, itemId)

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
itemId The id of the custom time bar

#### Examples
```{r}

timevis() %>%
addCustomTime(Sys.Date() - 1, "yesterday") %>%
addCustomTime(Sys.Date() + 1, "tomorrow") %>%
removeCustomTime("yesterday")
if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn0", "Add custom time"),
actionButton("btn", "Remove custom time bar")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis()
)
observeEvent(input$btn0, {
addCustomTime("timeline", Sys.Date() - 1, "yesterday")
})
observeEvent(input$btn, {
removeCustomTime("timeline", "yesterday")
})
}
)
}
removeItem
Remove an item from a timeline

#### Description

Remove an item from a timeline

#### Usage
<pre><code>


removeItem(id, itemId)runExample
9

<code></pre>
#### Arguments

id Timeline id or a timevis object (the output from timevis())
itemId The id of the item to remove

#### Examples
```{r}

timevis(data.frame(id = 1:2, start = Sys.Date(), content = c("1", "2"))) %>%
removeItem(2)
if (interactive()) {
library(shiny)
shinyApp(
ui = fluidPage(
timevisOutput("timeline"),
actionButton("btn", "Remove item 2")
),
server = function(input, output) {
output$timeline <- renderTimevis(
timevis(data.frame(
id = 1:2, start = Sys.Date(), content = c("1", "2"))
)
)
observeEvent(input$btn, {
removeItem("timeline", 2)
})
}
)
}
runExample
Run examples of using timevis in a Shiny app

#### Description

This example is also available online.

#### Usage
<pre><code>


runExample()

#### Examples
```{r}

if (interactive()) {
runExample()
}10
setGroups
